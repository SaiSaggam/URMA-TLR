#!/bin/sh

TUN_LIST="0 1 2 3 4 5 6 7 8 9 10"

PPTP_CNT_TYPE_ONDEMAND=0
PPTP_CNT_TYPE_AUTORECONNECT=1
PPTP_CNT_TYPE_MANUAL=2 
PPTP_CNT_TYPE_ONFAILOVER=3

PPTP_DETECT_SERVER_BY_PORTSCAN=0
PPTP_DETECT_SERVER_BY_PING=1
PPTP_NO_DETECT=2

PPTP_LCP_TYPE_AUTO=0
PPTP_LCP_TYPE_MANUAL=1
PPTP_LCP_TYPE_DISABLE=2

PPTP_AUTH_DEFAULT=0
PPTP_AUTH_ACCEPT=1
PPTP_AUTH_REJECT=2

CSID_C_PPTP_USER=0x00050100
CSID_C_PPTP_PASSWORD=0x00050200
CSID_C_PPTP_P1FIXED_IP=0x00050300
CSID_C_PPTP_P1FIXED_NM=0x00050400
CSID_C_PPTP_P1FIXED_GW=0x00050500
CSID_C_PPTP_LNS_SERVER=0x00050600
CSID_C_PPTP_P1FIXED_PRIDNS=0x00050700
CSID_C_PPTP_P1FIXED_SECDNS=0x00050800
CSID_C_PPTP_CNT_TYPE=0x00050900
CSID_C_PPTP_MTU=0x00050a00
CSID_C_PPTP_IDLETIME=0x00050b00
CSID_C_PPTP_HOLDOFFTIME=0x00050c00
CSID_C_PPTP_AUTHTYPE=0x00050d00
CSID_C_PPTP_PHASE1_TYPE=0x00050e00
CSID_C_PPTP_ENABLE_MPPE=0x00054100

CSID_C_PPTP_CLI_ENABLE=0x00051000 
CSID_C_PPTP_CLI_QOS_ENABLE=0x00051001
CSID_C_PPTP_CLI_DETECT_PNS=0x00051002
CSID_C_PPTP_CLI_DIAL_ON_3G_FAILOVER=0x00051001 
CSID_C_PPTP_CLI_USER_ENABLE=0x00051100 
CSID_C_PPTP_CLI_TUNLNAME=0x00051200 
CSID_C_PPTP_CLI_PEERIP=0x00051300 
CSID_C_PPTP_CLI_USER=0x00051400 
CSID_C_PPTP_CLI_PASSWORD=0x00051500 
CSID_C_PPTP_CLI_ROUTE=0x00051600 
CSID_C_PPTP_CLI_CONNECT_TYPE=0x00051700 
CSID_C_PPTP_CLI_MPPE=0x00051800 
CSID_C_PPTP_CLI_NAT=0x00051900 
CSID_C_PPTP_CLI_ACTIVE=0x00051a00 
CSID_C_PPTP_CLI_PEERIP_STR=0x00051b00

CSID_C_PPTP_CLI_DO_AUTH=0x00051c00
CSID_C_PPTP_CLI_AUTH_PAP=0x00051d00
CSID_C_PPTP_CLI_AUTH_CHAP=0x00051e00
CSID_C_PPTP_CLI_AUTH_MSCHAP=0x00051f00
CSID_C_PPTP_CLI_AUTH_MSCHAPV2=0x00052000
CSID_C_PPTP_CLI_LOCAL_IP=0x00052100
CSID_C_PPTP_CLI_REMOTE_IP=0x00052200
CSID_C_PPTP_CLI_LCP_TYPE=0x00052300
CSID_C_PPTP_CLI_LCP_INTERVAL=0x00052400
CSID_C_PPTP_CLI_LCP_FAILURE=0x00052500

CSID_S_PPTP_CLI_ALTERED=0x80051001 
CSID_S_PPTP_CLI_PEER_USER=0x80052100 
CSID_S_PPTP_CLI_PEER_REAL_IP=0x80052200 
CSID_S_PPTP_CLI_PEER_VIRTUAL_IP=0x80052300 
CSID_S_PPTP_CLI_PEER_PID=0x80052400 
CSID_S_PPTP_CLI_PEER_IFNAME=0x80052500 
CSID_S_PPTP_CLI_PEER_REMOTE_IP=0x80052600 
CSID_S_PPTP_CLI_PEER_CONNT_ID=0x80052700 
CSID_S_PPTP_CLI_PEER_CONNT_TYPE=0x80052800 
CSID_S_PPTP_CLI_PEER_CONNT_STAT=0x80052900 

#CSID_C_PPTP_MTU=0x00050a00

CSID_C_PPTP_ENABLE_MPPE_40=0x00054101
CSID_C_PPTP_ENABLE_MPPE_56=0x00054102
CSID_C_PPTP_ENABLE_MPPE_128=0x00054103


#Main WAN Status
LOCAL_WAN_STATUS_CONNECT=2
CSID_C_LOCAL_WANTYPE=0x00010003
CSID_C_LOCAL_LANIP=0x00010004
CSID_C_LOCAL_LANNM=0x00010005
CSID_S_LOCAL_WAN_GW=0x80010004
CSID_S_LOCAL_WAN_IF_NAME=0x8001000b
CSID_S_LOCAL_WAN_STATUS=0x80010007

#3G Autobak Status
AUTOBAK_STATUS_3G_CONNECT=2
CSID_C_3G_AUTOBAK_ENABLE=0x001e000d
CSID_S_3G_AUTOBAK_STATUS=0x801e1200
CSID_S_3G_IF_GW=0x801e0400
CSID_S_3G_CARD_VENDORID=0x801e1400
CSID_S_3G_CARD_PRODUCTID=0x801e1500
CSID_S_FLASHOFDM_IF_GW=0x80395004

#Failover Status
FAILOVER_STATUS_CONNECT=1
CSID_S_FAILOVER_STATUS=0x80430600

#LoadSharing Status
CSID_C_FAILOVER_LOADSHARING_ENABLE=0x004301c0
LOADSHARING_STATUS_CONNECT=2
CSID_S_LOADSHARING_STATUS=0x80430600 

#NAT/QoS
CSID_C_QOS_ENABLE=0x00120001

#System/ODM
CSID_S_SYS_INFO_ROM_ID=0x80004210

#RIPD_FLAG
CSID_S_ROUTING_RESTART_FLAG=0x80130003

get_lan_range()
{
    addr=`get_csid_addr $CSID_C_LOCAL_LANIP`
    lan_ip="`rdcsman $addr ipv4`"

    addr=`get_csid_addr $CSID_C_LOCAL_LANNM`
    lan_mask="`rdcsman $addr ipv4`"

    ip1=$((`echo $lan_ip| cut -d "." -f1` & `echo $lan_mask| cut -d "." -f1`))
    ip2=$((`echo $lan_ip| cut -d "." -f2` & `echo $lan_mask| cut -d "." -f2`))
    ip3=$((`echo $lan_ip| cut -d "." -f3` & `echo $lan_mask| cut -d "." -f3`))
    ip4=$((`echo $lan_ip| cut -d "." -f4` & `echo $lan_mask| cut -d "." -f4`))

    eval $1="$ip1.$ip2.$ip3.$ip4"
    eval $2="$lan_mask"     
}


